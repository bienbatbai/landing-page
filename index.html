<!DOCTYPE html>
<html lang="vi">
<head>
<meta charset="UTF-8">
<title>Landing cháº¡y view</title>
<meta name="viewport" content="width=device-width, initial-scale=1">

<style>
body{
    margin:0;
    background:#000;
    color:#fff;
    font-family:Arial,sans-serif;
    padding:20px;
}
.box{
    max-width:480px;
    margin:auto;
    text-align:center;
}
input{
    width:100%;
    padding:12px;
    font-size:16px;
    border-radius:6px;
    border:none;
    margin-top:10px;
}
.btn{
    background:#ff0000;
    color:#fff;
    border:none;
    padding:14px 20px;
    font-size:18px;
    border-radius:6px;
    cursor:pointer;
    margin-top:15px;
}
.total{
    margin-top:15px;
    font-size:20px;
    color:#00ffcc;
}
.zone-box{
    margin-top:20px;
    text-align:left;
    font-size:15px;
}
.zone{
    border-bottom:1px solid #333;
    padding:6px 0;
}
.note{
    margin-top:12px;
    font-size:13px;
    color:#aaa;
}
</style>
</head>

<body>

<div class="box">
    <h2>ðŸŽ¬ Video Ä‘ang má»Ÿâ€¦</h2>

    <input id="videoInput" placeholder="DÃ¡n ID hoáº·c link YouTube">

    <div class="total">
        Tá»•ng click: <span id="total">0</span>
    </div>

    <div class="zone-box">
        <h3>Click theo zone</h3>
        <div id="zones"></div>
    </div>

    <div class="note">
        Tá»± Ä‘á»™ng chuyá»ƒn sang YouTube sau vÃ i giÃ¢y
    </div>
</div>

<script>
/* ===== CONFIG ===== */
const REDIRECT_DELAY = 2500; // 2.5 giÃ¢y
const STORAGE_KEY = "zone_click_data";

/* ===== GET PARAM ===== */
const params = new URLSearchParams(window.location.search);
const zoneId = params.get("zone") || "unknown";

/* ===== LOAD DATA ===== */
let data = JSON.parse(localStorage.getItem(STORAGE_KEY)) || {
    total: 0,
    zones: {}
};

/* ===== RENDER ===== */
function render(){
    document.getElementById("total").innerText = data.total;
    const z = document.getElementById("zones");
    z.innerHTML = "";
    for(let k in data.zones){
        z.innerHTML += `<div class="zone">Zone ${k} â†’ ${data.zones[k]} click</div>`;
    }
}
render();

/* ===== BUILD YOUTUBE URL ===== */
function buildYoutubeUrl(input){
    if(!input) return null;
    if(input.includes("youtube.com") || input.includes("youtu.be")){
        return input;
    }
    return "https://www.youtube.com/watch?v=" + input;
}

/* ===== AUTO CLICK + REDIRECT ===== */
setTimeout(() => {
    const input = document.getElementById("videoInput").value.trim();
    const target = buildYoutubeUrl(input);
    if(!target) return;

    // ghi click
    data.total++;
    if(!data.zones[zoneId]) data.zones[zoneId] = 0;
    data.zones[zoneId]++;

    localStorage.setItem(STORAGE_KEY, JSON.stringify(data));
    render();

    // redirect
    window.location.href = target;

}, REDIRECT_DELAY);
</script>

</body>
</html>





