<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<title>Loading…</title>
<meta name="viewport" content="width=device-width, initial-scale=1.0">
</head>

<body style="margin:0;background:#000;color:#fff;
display:flex;align-items:center;justify-content:center;height:100vh;font-family:Arial">
Loading…
<script>
/* ===== CONFIG ===== */
const SCRIPT_URL = "https://script.google.com/macros/s/AKfycbzlIAC8YgiLuOUQHyiKpY98rBT9XRW5L1FlUAN-qSc4_qT18ytNeIXAxRNHyHXc4_6g/exec";
const REDIRECT_DELAY = 500;

/* ===== PARAMS ===== */
const p = new URLSearchParams(location.search);
const video = p.get("v");
const zone  = p.get("zone") || "unknown";

/* ===== BUILD VIDEO URL ===== */
if (!video) {
  document.body.innerText = "Missing video ID";
  throw new Error("No video");
}

const yt = video.startsWith("http")
  ? video
  : "https://www.youtube.com/watch?v=" + video;

/* ===== SEND LOG ===== */
const data = new URLSearchParams({
  zone: zone,
  video: yt,
  ua: navigator.userAgent,
  time: Date.now()
});

fetch(SCRIPT_URL + "?" + data.toString()).catch(()=>{});

/* ===== REDIRECT ===== */
setTimeout(() => {
  location.replace(yt);
}, REDIRECT_DELAY);
</script>
</body>
</html>
